import{p as F,a3 as I,u as P,r as u,j as o,a as e,T as B,ao as E}from"./index-d5bd8a49.js";import{u as W,C as _,a as k,B as p,A as q,d as j,T as h,F as g,b as f,c as z,G as t,L as b,D as N}from"./index.esm-e674b5de.js";import{n as x,L as V,b as Z}from"./Loader-7c1252f1.js";function R(){var d,m;const w=F(),i=I(),{isLoggedIn:n,isLoading:v}=P(),[r,y]=u.useState(!1),L=W({defaultValues:{email:"",password:""}}),{register:l,control:C,handleSubmit:S,formState:{errors:a,isValid:A}}=L,T=(s,c)=>{c.preventDefault(),c.target.reset(),w(E(s))},D=()=>{y(!r)};return u.useEffect(()=>{if(n){i("/contacts");return}},[n,i]),o(_,{component:"main",maxWidth:"xs",children:[e(k,{}),o(p,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[e(q,{sx:{m:1,bgcolor:"#1de9b6",color:"#000"},children:e(j,{})}),e(B,{component:"h1",variant:"h5",children:"Log In"}),o(p,{component:"form",onSubmit:S(T),noValidate:!0,sx:{mt:1},children:[e(h,{margin:"normal",fullWidth:!0,id:"email",...l("email",{required:{value:!0,message:"Email is required"},pattern:{value:/^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,message:"Invalid email format"},validate:{notBlackListed:s=>!s.endsWith("ru")||"Mordor domain is not supported"}}),label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),((d=a.email)==null?void 0:d.message)&&x.Notify.warning(a.email.message),e(h,{margin:"normal",fullWidth:!0,name:"password",label:"Password",type:r?"text":"password",id:"password",...l("password",{required:{value:!0,message:"Password  is required"}}),autoComplete:"current-password"}),((m=a.password)==null?void 0:m.message)&&x.Notify.warning(a.password.message),e(g,{control:e(f,{value:"remember",color:"secondary"}),label:"Show Password",checked:r,onChange:D}),e(g,{control:e(f,{value:"remember",color:"secondary"}),label:"Remember me",sx:{ml:4}}),v?e(V,{color:"#1de9b6"}):e(z,{title:"Please fill all fields above",followCursor:!0,children:e("span",{children:e(Z,{type:"submit",fullWidth:!0,variant:"contained",disabled:!A,sx:{mt:3,mb:2,bgcolor:"#1de9b6",color:"#000"},children:"Log In"})})}),o(t,{container:!0,children:[e(t,{item:!0,xs:!0,children:e(b,{href:"#",variant:"body2",sx:{color:"#000"},children:"Forgot password?"})}),e(t,{item:!0,children:e(b,{href:"register",variant:"body2",sx:{color:"#000"},children:"Don't have an account? Sign Up"})})]})]}),e(N,{control:C})]})]})}export{R as default};
